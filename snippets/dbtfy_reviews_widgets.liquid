{% comment %}
    DO NOT EDIT THIS FILE. THIS WILL BE AUTOMATICALLY UPDATED.
{% endcomment %}

{% if widget_type == 'product_badge' %}
    <div style="clear:both"></div>
    <div class="">
        <div class="dbtfy-review_widget dbtfy-review_badge-widget"
            style="display:none"
        >
            <div class="dbtfy-review dbtfy-review_badge" data-product-id='{{ product.id }}'>
                {{ product.metafields.dbtfy_review.review_badge }}
            </div>
        </div>
    </div>
{% endif %}
{% if widget_type == 'product_review_widget' %}
    {% assign widget_settings  = shop.metafields.dbtfy_review['widget_settings'] %}
    {% if widget_settings.widget_theme.widget_layout == "list" %}
        {% assign widget_layout  = "pagination" %}
    {% else %}
        {% assign widget_layout  = widget_settings.widget_theme.widget_layout %}
    {% endif %}

    {% assign reviews_widget_key = "review_widget_" | append: widget_layout %}
    {% assign review_widget      = product.metafields.dbtfy_review[reviews_widget_key] %}
    <div style="clear:both"></div>
    <div id="dbtfy-review_product-reviews"
        class="
            dbtfy-review_widget
            dbtfy-review_product-reviews-widget
            dbtfy_review-product-review-wrapper
            wrapper
            {{ class_wrapper }}
        "
        style="display:none"
        data-product-id="{{ product.id }}"
        data-display-type="{{ widget_layout }}"
        data-widget-settings='{{ widget_settings | json }}'
    >
        {{ review_widget }}
    </div>
{% endif %}

{% if widget_type == 'all_reviews_widget' %}
    {% assign widget_settings  = shop.metafields.dbtfy_review['widget_settings'] %}

    {% if widget_settings.widget_layout == "list" %}
        {% assign widget_layout  = "pagination" %}
    {% else %}
        {% assign widget_layout  = widget_settings.widget_layout %}
    {% endif %}

    {% if collection_identifier != blank %}
        {% assign reviews_widget_key = "all_rev_pagination_" | append: collection_identifier %}
        {% assign review_widget      = shop.metafields.dbtfy_review[reviews_widget_key] %}
    {% else %}
        {% assign reviews_widget_key = "all_rev_pagination" %}
        {% assign review_widget      = shop.metafields.dbtfy_review[reviews_widget_key] %}
    {% endif %}

    <div id="dbtfy-review_all-reviews" class="dbtfy-review_widget dbtfy-review_all-reviews-widget dbtfy_review-all-reviews-wrapper {{ class_wrapper }}" data-display-type="{{ widget_layout }}" data-widget-settings='{{ widget_settings | json }}'>
        {{ review_widget }}
    </div>
{% endif %}
